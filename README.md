# CSV Browser

## Описание

CSV Browser - это консольное приложение для работы с CSV-файлами, предоставляющее следующие возможности:

- Чтение и отображение CSV-файлов в удобном табличном формате
- Фильтрация данных по различным условиям
- Агрегация данных с использованием статистических функций
- Сортировка данных *(потенциально можно добавить модуль)*

## Установка

1. Убедитесь, что у вас установлен Python 3.8 или выше
2. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/KriptYashka/CSV_Browser.git
   cd csv-browser
   ```
3. Установите зависимости:
   ```bash
   pip3 install -r requirements.txt
   ```

## Использование

### Основные команды

```
python3 main.py -f <путь_к_файлу> [опции]
```

> Опции можно узнать с помощью --help

![](https://i.postimg.cc/GmNWzgJg/03-Help.png)

### Опции

| Опция              | Алиас | Описание                              | Пример                     |
|--------------------|-------|--------------------------------------|----------------------------|
| `--file`           | `-f`  | Путь к CSV-файлу (обязательный)      | `-f data.csv`              |
| `--where`          | `-w`  | Фильтрация данных                    | `-w "Age>30"`              |
| `--aggregate`      | `-a`  | Агрегация данных                     | `-a "Score=avg"`           |

## Поддерживаемые операции

### Фильтрация (`--where`)

Поддерживаются следующие операторы сравнения:
- `>` (больше)
- `<` (меньше)
- `>=` (больше или равно)
- `<=` (меньше или равно)
- `=` (равно)
- `!=` (не равно)

### Агрегация (`--aggregate`)

Доступные функции:
- `min` - минимальное значение
- `max` - максимальное значение
- `avg` - среднее значение
- `sum` - сумма
- `count` - количество
- `argmin` - индекс минимального значения
- `argmax` - индекс максимального значения

## Формат CSV-файла

Программа ожидает CSV-файлы с:
1. Заголовком в первой строке
2. Разделителем-запятой
3. Кодировкой UTF-8

### Примеры использования

1. Просмотр содержимого файла:
   ```bash
   python3 main.py -f test.csv
   ```
   
   ![](https://i.postimg.cc/dtWPZV7Y/01-All.png)

2. Фильтрация данных:
   ```bash
   python3 main.py -f test.csv -w "Year>2020"
   ```
   ![](https://i.postimg.cc/ydCwCJGF/04-Where.png)
   

3. Агрегация данных:
   ```bash
   python3 main.py -f test.csv -a "price_usd=avg"
   ```
   
   ![](https://i.postimg.cc/2SVpQNvB/05-Aggregation.png)

4. Комбинирование операций:
   ```bash
   python3 main.py -f test.csv -w "Year>2020" -a "price_usd=min"
   ```
   
   ![](https://i.postimg.cc/ydh211q2/06-Where-Aggregation.png)

5. Проверка на ошибки (с файлом или параметрами):
![](https://i.postimg.cc/fb96P78z/02-Errors.png)


## Архитектура приложения

![](https://i.postimg.cc/B68tkVd8/Default-View.jpg)

### Запуск тестов

1. Укажите внутри тестов путь до файла
2. Запустите тесты
```bash
pytest tests/
```
